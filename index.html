<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Particle</title>
    <link rel="stylesheet" href="particle.css" />

    <script src="util.js"></script>

    <script src="actorFactory.js"></script>
    <script src="actors/nullActor.js"></script>
    <script src="actors/produceActor.js"></script>
    <script src="actors/killActor.js"></script>
    <script src="actors/explodeActor.js"></script>

    <script src="particle.js"></script>
    <script src="particleSystem.js"></script>

    <script src="canvasInteractor.js"></script>
    <script>
        var interactor;
        window.onload = function () {
            var canvas = document.getElementById("particleCanvas"); //$('#particleCanvas');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            var sounds = {
                explode: new Audio('sounds/explode.mp3')
            };

            interactor = new CanvasInteractor(canvas, sounds);
            canvas.onclick = function (e) {
                var br = canvas.getBoundingClientRect();
                var xPos = e.clientX - br.left;
                var yPos = e.clientY - br.top;

                interactor.insertParticle(new Particle(xPos, yPos, randomRange(-2, 2), randomRange(-2, 2)));
            };
        };
    </script>
</head>
<body>
<canvas id="particleCanvas" width="1000" height="700"></canvas>
</body>
</html>